{"version":3,"sources":["../../../lib/index.js","../../../lib/plain-sync/Syncer.js","../../../lib/plain-sync/index.js","../../../lib/plain-sync/Sync.js","../../../lib/plain-sync/HistoryListener.js","PlainSyncDemo/actions.js","PlainSyncDemo/index.js","Main.js","App.js","reducer.js","index.js"],"names":["Object","defineProperty","exports","value","plainSync","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","default","_interopRequireWildcard","__webpack_require__","_classCallCheck","_defineProperty","enumerable","configurable","writable","_default","Syncer","pathname","actionCreator","selector","options","this","_Sync","_Syncer","_interopRequireDefault","getSearchFromObject","_qs","_HistoryListener","search","stringify","length","concat","Sync","store","history","syncer","_this","cb","_state","isProcessing","prevLocation","location","newValue","_getNewValueFromSearch","slice","_process","_store","dispatch","_syncer","parseQuery","parse","_history","stateValue","getState","next","replaceState","replace","push","stringifyState","historyListener","setOnSearchChange","_onSearchChange","stopListeningHistory","listen","getListenerFunc","unsubscribeFromStore","subscribe","_onStateChange","relyOn","undefined","hasPathnameChanged","hasSearchChanged","nextLocation","HistoryListener","currentLocation","_onPathnameChange","ActionTypes","increment","type","decrement","PlainSync","_this$props","props","counter","react_default","a","createElement","className","onClick","Component","connect","state","plainSyncCounter","bindActionCreators","Main","react_router_dom","to","PLAIN_SYNC_PATH","App","react_router","exact","path","process","component","PlainSyncDemo","initialState","d","__webpack_exports__","createBrowserHistory","loggerMiddleware","createLogger","level","duration","collapsed","createStore","arguments","action","PlainSyncActionTypes","applyMiddleware","_ref","counterStr","parseInt","start","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.49219116.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.plainSync = void 0;\n\nvar plainSync = _interopRequireWildcard(require(\"./plain-sync\"));\n\nexports.plainSync = plainSync;\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/teimurgasanov/Projects/sync-query-redux/examples/plain-sync/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Syncer = function Syncer(pathname, actionCreator, selector, options) {\n  _classCallCheck(this, Syncer);\n\n  _defineProperty(this, \"pathname\", void 0);\n\n  _defineProperty(this, \"actionCreator\", void 0);\n\n  _defineProperty(this, \"selector\", void 0);\n\n  _defineProperty(this, \"options\", void 0);\n\n  this.pathname = pathname;\n  this.actionCreator = actionCreator;\n  this.selector = selector;\n  this.options = options || {};\n};\n\nvar _default = Syncer;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Sync\", {\n  enumerable: true,\n  get: function get() {\n    return _Sync.default;\n  }\n});\nObject.defineProperty(exports, \"Syncer\", {\n  enumerable: true,\n  get: function get() {\n    return _Syncer.default;\n  }\n});\n\nvar _Sync = _interopRequireDefault(require(\"./Sync\"));\n\nvar _Syncer = _interopRequireDefault(require(\"./Syncer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/teimurgasanov/Projects/sync-query-redux/examples/plain-sync/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.getSearchFromObject = void 0;\n\nvar _qs = _interopRequireDefault(require(\"qs\"));\n\nvar _Syncer = _interopRequireDefault(require(\"./Syncer\"));\n\nvar _HistoryListener = _interopRequireDefault(require(\"./HistoryListener\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar getSearchFromObject = function getSearchFromObject(obj) {\n  var search = _qs.default.stringify(obj);\n\n  return search.length > 0 ? \"?\".concat(search) : \"\";\n};\n\nexports.getSearchFromObject = getSearchFromObject;\n\nvar Sync = function Sync(store, history, syncer) {\n  var _this = this;\n\n  _classCallCheck(this, Sync);\n\n  _defineProperty(this, \"_store\", void 0);\n\n  _defineProperty(this, \"_history\", void 0);\n\n  _defineProperty(this, \"_syncer\", void 0);\n\n  _defineProperty(this, \"_state\", void 0);\n\n  _defineProperty(this, \"_process\", function (cb) {\n    _this._state.isProcessing = true;\n    cb();\n    _this._state.isProcessing = false;\n  });\n\n  _defineProperty(this, \"_onSearchChange\", function (prevLocation, location) {\n    if (_this._state.isProcessing) {\n      return;\n    }\n\n    var newValue = _this._getNewValueFromSearch(location.search.slice(1));\n\n    _this._process(function () {\n      return _this._store.dispatch(_this._syncer.actionCreator(newValue));\n    });\n  });\n\n  _defineProperty(this, \"_getNewValueFromSearch\", function (search) {\n    return _this._syncer.options.parseQuery ? _qs.default.parse(search) : search;\n  });\n\n  _defineProperty(this, \"_onStateChange\", function () {\n    var isPathnameMatches = _this._history.location.pathname === _this._syncer.pathname;\n\n    if (!isPathnameMatches || _this._state.isProcessing) {\n      return;\n    }\n\n    var stateValue = _this._syncer.selector(_this._store.getState());\n\n    var search = getSearchFromObject(stateValue);\n\n    if (search === _this._history.location.search) {\n      return;\n    }\n\n    var next = _this._syncer.options.replaceState ? _this._history.replace : _this._history.push;\n\n    _this._process(function () {\n      return next({\n        pathname: _this._history.location.pathname,\n        search: _this._syncer.options.stringifyState ? search : stateValue\n      });\n    });\n  });\n\n  _defineProperty(this, \"start\", function () {\n    var historyListener = new _HistoryListener.default();\n    historyListener.setOnSearchChange(_this._onSearchChange);\n\n    var stopListeningHistory = _this._history.listen(historyListener.getListenerFunc(_this._syncer.pathname));\n\n    var unsubscribeFromStore = _this._store.subscribe(_this._onStateChange);\n\n    if (_this._syncer.pathname === _this._history.location.pathname) {\n      if (_this._syncer.options.relyOn === \"location\") {\n        _this._onSearchChange(undefined, _this._history.location);\n      } else {\n        _this._onStateChange();\n      }\n    }\n\n    return function () {\n      stopListeningHistory();\n      unsubscribeFromStore();\n    };\n  });\n\n  this._store = store;\n  this._history = history;\n  this._syncer = syncer;\n  this._state = {\n    isProcessing: false\n  };\n};\n\nvar _default = Sync;\nexports.default = _default;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/teimurgasanov/Projects/sync-query-redux/examples/plain-sync/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.hasPathnameChanged = exports.hasSearchChanged = void 0;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar hasSearchChanged = function hasSearchChanged(prevLocation, nextLocation) {\n  return (nextLocation || {}).search !== (prevLocation || {}).search;\n};\n\nexports.hasSearchChanged = hasSearchChanged;\n\nvar hasPathnameChanged = function hasPathnameChanged(prevLocation, nextLocation) {\n  return (nextLocation || {}).pathname !== (prevLocation || {}).pathname;\n};\n\nexports.hasPathnameChanged = hasPathnameChanged;\n\nvar HistoryListener = function HistoryListener() {\n  var _this = this;\n\n  _classCallCheck(this, HistoryListener);\n\n  _defineProperty(this, \"prevLocation\", void 0);\n\n  _defineProperty(this, \"currentLocation\", void 0);\n\n  _defineProperty(this, \"_onPathnameChange\", void 0);\n\n  _defineProperty(this, \"_onSearchChange\", void 0);\n\n  _defineProperty(this, \"getListenerFunc\", function (pathname) {\n    return function (location) {\n      _this.currentLocation = location;\n      var isPathnameMatches = location.pathname === pathname;\n\n      if (isPathnameMatches && hasSearchChanged(_this.prevLocation, _this.currentLocation) && _this._onSearchChange) {\n        _this._onSearchChange(_this.prevLocation, location);\n      } else if (hasPathnameChanged(_this.prevLocation, _this.currentLocation) && _this._onPathnameChange) {\n        _this._onPathnameChange(_this.prevLocation, location);\n      }\n\n      _this.currentLocation = undefined;\n      _this.prevLocation = location;\n    };\n  });\n\n  _defineProperty(this, \"setOnPathnameChange\", function (cb) {\n    _this._onPathnameChange = cb;\n  });\n\n  _defineProperty(this, \"setOnSearchChange\", function (cb) {\n    _this._onSearchChange = cb;\n  });\n\n  this.prevLocation = undefined;\n  this.currentLocation = undefined;\n  this._onPathnameChange = undefined;\n  this._onSearchChange = undefined;\n};\n\nvar _default = HistoryListener;\nexports.default = _default;","export const ActionTypes = {\n  INCREMENT: \"PLAIN_SYNC_DEMO/INCREMENT\",\n  DECREMENT: \"PLAIN_SYNC_DEMO/DECREMENT\",\n  SET_COUNTER: \"PLAIN_SYNC_DEMO/SET_COUNTER\"\n};\n\nexport const increment = () => ({ type: ActionTypes.INCREMENT });\nexport const decrement = () => ({ type: ActionTypes.DECREMENT });\nexport const setCounter = ({ counter: counterStr }) => ({\n  type: ActionTypes.SET_COUNTER,\n  counter: parseInt(counterStr || '0', 10)\n});\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { increment, decrement } from \"./actions\";\n\nclass PlainSync extends Component {\n  render() {\n    const { counter, increment, decrement } = this.props;\n    return (\n      <div className=\"container\">\n        <p className=\"value\">Counter value is: {counter}</p>\n        <button onClick={increment}>INCREMENT</button>\n        <button onClick={decrement}>DECREMENT</button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  counter: state.plainSyncCounter\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      increment,\n      decrement\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PlainSync);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { PLAIN_SYNC_PATH } from \".\";\n\nclass Main extends Component {\n  render() {\n    return (\n      <ul className=\"main-router\">\n        <li>\n          <Link to={PLAIN_SYNC_PATH}>Plain Sync Demo</Link>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default Main;\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport PlainSyncDemo from \"./PlainSyncDemo\";\nimport Main from \"./Main\";\n\nimport { PLAIN_SYNC_PATH } from \".\";\n\nclass App extends Component {\n  render() {\n    const { PUBLIC_URL } = process.env;\n\n    return (\n      <Switch>\n        <Route\n          exact\n          path={PUBLIC_URL.length === 0 ? \"/\" : PUBLIC_URL}\n          component={Main}\n        />\n        <Route path={PLAIN_SYNC_PATH} component={PlainSyncDemo} />\n      </Switch>\n    );\n  }\n}\n\nexport default App;\n","import { ActionTypes as PlainSyncActionTypes } from \"./PlainSyncDemo/actions\";\n\nconst initialState = {\n  plainSyncCounter: 0\n};\n\nexport const rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PlainSyncActionTypes.INCREMENT:\n      return { plainSyncCounter: state.plainSyncCounter + 1 };\n    case PlainSyncActionTypes.DECREMENT:\n      return { plainSyncCounter: state.plainSyncCounter - 1 };\n    case PlainSyncActionTypes.SET_COUNTER:\n      return { plainSyncCounter: action.counter };\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Router } from \"react-router-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { createLogger } from \"redux-logger\";\nimport { plainSync } from \"sync-query-redux\";\nimport { createBrowserHistory } from \"history\";\nimport App from \"./App\";\nimport { setCounter } from \"./PlainSyncDemo/actions\";\nimport { rootReducer } from \"./reducer\";\nimport \"./index.css\";\n\nconst history = createBrowserHistory();\n\nconst loggerMiddleware = createLogger({\n  level: \"info\",\n  duration: true,\n  collapsed: true\n});\n\nconst store = createStore(rootReducer, applyMiddleware(loggerMiddleware));\n\nexport const PLAIN_SYNC_PATH = `${process.env.PUBLIC_URL}/plain-sync`;\n\nconst syncer = new plainSync.Syncer(\n  PLAIN_SYNC_PATH,\n  setCounter,\n  state => ({ counter: state.plainSyncCounter }),\n  {\n    parseQuery: true,\n    stringifyState: true,\n    relyOn: \"location\",\n    replaceState: true\n  }\n);\nconst sync = new plainSync.Sync(store, history, syncer);\nsync.start();\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}