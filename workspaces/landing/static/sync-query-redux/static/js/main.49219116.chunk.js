(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.plainSync=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(43));t.plainSync=r},30:function(e,t,n){"use strict";var r=n(22);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function e(t,n,o,c){r(this,e),a(this,"pathname",void 0),a(this,"actionCreator",void 0),a(this,"selector",void 0),a(this,"options",void 0),this.pathname=t,this.actionCreator=n,this.selector=o,this.options=c||{}};t.default=o},34:function(e,t,n){e.exports=n(51)},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Sync",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Syncer",{enumerable:!0,get:function(){return a.default}});var r=o(n(44)),a=o(n(30));function o(e){return e&&e.__esModule?e:{default:e}}},44:function(e,t,n){"use strict";var r=n(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getSearchFromObject=void 0;var a=c(n(45)),o=(c(n(30)),c(n(48)));function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){var t=a.default.stringify(e);return t.length>0?"?".concat(t):""};t.getSearchFromObject=s;var u=function e(t,n,c){var u=this;r(this,e),i(this,"_store",void 0),i(this,"_history",void 0),i(this,"_syncer",void 0),i(this,"_state",void 0),i(this,"_process",function(e){u._state.isProcessing=!0,e(),u._state.isProcessing=!1}),i(this,"_onSearchChange",function(e,t){if(!u._state.isProcessing){var n=u._getNewValueFromSearch(t.search.slice(1));u._process(function(){return u._store.dispatch(u._syncer.actionCreator(n))})}}),i(this,"_getNewValueFromSearch",function(e){return u._syncer.options.parseQuery?a.default.parse(e):e}),i(this,"_onStateChange",function(){if(u._history.location.pathname===u._syncer.pathname&&!u._state.isProcessing){var e=u._syncer.selector(u._store.getState()),t=s(e);if(t!==u._history.location.search){var n=u._syncer.options.replaceState?u._history.replace:u._history.push;u._process(function(){return n({pathname:u._history.location.pathname,search:u._syncer.options.stringifyState?t:e})})}}}),i(this,"start",function(){var e=new o.default;e.setOnSearchChange(u._onSearchChange);var t=u._history.listen(e.getListenerFunc(u._syncer.pathname)),n=u._store.subscribe(u._onStateChange);return u._syncer.pathname===u._history.location.pathname&&("location"===u._syncer.options.relyOn?u._onSearchChange(void 0,u._history.location):u._onStateChange()),function(){t(),n()}}),this._store=t,this._history=n,this._syncer=c,this._state={isProcessing:!1}};t.default=u},48:function(e,t,n){"use strict";var r=n(22);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hasPathnameChanged=t.hasSearchChanged=void 0;var o=function(e,t){return(t||{}).search!==(e||{}).search};t.hasSearchChanged=o;var c=function(e,t){return(t||{}).pathname!==(e||{}).pathname};t.hasPathnameChanged=c;var i=function e(){var t=this;r(this,e),a(this,"prevLocation",void 0),a(this,"currentLocation",void 0),a(this,"_onPathnameChange",void 0),a(this,"_onSearchChange",void 0),a(this,"getListenerFunc",function(e){return function(n){t.currentLocation=n,n.pathname===e&&o(t.prevLocation,t.currentLocation)&&t._onSearchChange?t._onSearchChange(t.prevLocation,n):c(t.prevLocation,t.currentLocation)&&t._onPathnameChange&&t._onPathnameChange(t.prevLocation,n),t.currentLocation=void 0,t.prevLocation=n}}),a(this,"setOnPathnameChange",function(e){t._onPathnameChange=e}),a(this,"setOnSearchChange",function(e){t._onSearchChange=e}),this.prevLocation=void 0,this.currentLocation=void 0,this._onPathnameChange=void 0,this._onSearchChange=void 0};t.default=i},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(17),c=n.n(o),i=n(8),s=n(9),u=n(20),h=n(32),l=n(24),p=n(2),f=n(10),d=n(11),y=n(13),_=n(12),v=n(14),b="PLAIN_SYNC_DEMO/INCREMENT",m="PLAIN_SYNC_DEMO/DECREMENT",g="PLAIN_SYNC_DEMO/SET_COUNTER",O=function(){return{type:b}},C=function(){return{type:m}},S=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.counter,n=e.increment,r=e.decrement;return a.a.createElement("div",{className:"container"},a.a.createElement("p",{className:"value"},"Counter value is: ",t),a.a.createElement("button",{onClick:n},"INCREMENT"),a.a.createElement("button",{onClick:r},"DECREMENT"))}}]),t}(r.Component),j=Object(u.b)(function(e){return{counter:e.plainSyncCounter}},function(e){return Object(s.b)({increment:O,decrement:C},e)})(S),P=n(19),E=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("ul",{className:"main-router"},a.a.createElement("li",null,a.a.createElement(P.a,{to:I},"Plain Sync Demo")))}}]),t}(r.Component),L=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(i.c,null,a.a.createElement(i.a,{exact:!0,path:0==="/sync-query-redux".length?"/":"/sync-query-redux",component:E}),a.a.createElement(i.a,{path:I,component:j}))}}]),t}(r.Component),N={plainSyncCounter:0};n(50);n.d(t,"PLAIN_SYNC_PATH",function(){return I});var w=Object(p.a)(),M=Object(h.createLogger)({level:"info",duration:!0,collapsed:!0}),D=Object(s.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{plainSyncCounter:e.plainSyncCounter+1};case m:return{plainSyncCounter:e.plainSyncCounter-1};case g:return{plainSyncCounter:t.counter};default:return e}},Object(s.a)(M)),I="".concat("/sync-query-redux","/plain-sync"),k=new l.plainSync.Syncer(I,function(e){var t=e.counter;return{type:g,counter:parseInt(t||"0",10)}},function(e){return{counter:e.plainSyncCounter}},{parseQuery:!0,stringifyState:!0,relyOn:"location",replaceState:!0});new l.plainSync.Sync(D,w,k).start(),c.a.render(a.a.createElement(u.a,{store:D},a.a.createElement(i.b,{history:w},a.a.createElement(L,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.49219116.chunk.js.map