var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function d(){return a(" ")}function f(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){(null!=e||t.value)&&(t.value=e)}let $;function g(t){$=t}function b(){if(!$)throw new Error("Function called outside component initialization");return $}function v(t,e){b().$$.context.set(t,e)}const y=[],x=[],w=[],_=[],j=Promise.resolve();let O=!1;function L(t){w.push(t)}function k(){const t=new Set;do{for(;y.length;){const t=y.shift();g(t),E(t.$$)}for(;x.length;)x.pop()();for(let e=0;e<w.length;e+=1){const n=w[e];t.has(n)||(n(),t.add(n))}w.length=0}while(y.length);for(;_.length;)_.pop()();O=!1}function E(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(L))}const S=new Set;let C;function N(t,e){t&&t.i&&(S.delete(t),t.i(e))}const F="undefined"!=typeof window?window:global;function A(t,n,s){const{fragment:u,on_mount:i,on_destroy:c,after_update:l}=t.$$;u.m(n,s),L(()=>{const n=i.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(L)}function P(t,e){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function T(t,e){t.$$.dirty||(y.push(t),O||(O=!0,j.then(k)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function q(e,o,s,u,i,c){const l=$;g(e);const a=o.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:null};let f=!1;var m;d.ctx=s?s(e,a,(t,n)=>{d.ctx&&i(d.ctx[t],d.ctx[t]=n)&&(d.bound[t]&&d.bound[t](n),f&&T(e,t))}):a,d.update(),f=!0,r(d.before_update),d.fragment=u(d.ctx),o.target&&(o.hydrate?d.fragment.l((m=o.target,Array.from(m.childNodes))):d.fragment.c(),o.intro&&N(e.$$.fragment),A(e,o.target,o.anchor),k()),g(l)}class B{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const M="userContext",z=null,{Object:D}=F;function H(t,e,n){const r=D.create(t);return r.field=e[n],r}function Y(t){var e,n,o,s,u,p,$,g,b,v,y,x,w,_,j=t.Object.keys(t.errors).length>0;function O(t,e){return e.isLoading?J:I}var L=O(0,t),k=L(t),E=j&&K(t);return{c(){(e=l("h1")).textContent="ðŸ‘¤",n=d(),(o=l("label")).textContent="Email",s=d(),u=l("input"),p=d(),($=l("label")).textContent="Password",g=d(),b=l("input"),v=d(),y=l("button"),k.c(),x=d(),E&&E.c(),w=a(""),m(e,"class","svelte-xtseyo"),m(o,"class","svelte-xtseyo"),m(u,"name","email"),m(u,"placeholder","name@example.com"),m(u,"class","svelte-xtseyo"),m($,"class","svelte-xtseyo"),m(b,"name","password"),m(b,"type","password"),m(b,"class","svelte-xtseyo"),m(y,"type","submit"),m(y,"class","svelte-xtseyo"),_=[f(u,"input",t.input0_input_handler),f(b,"input",t.input1_input_handler)]},m(r,c){i(r,e,c),i(r,n,c),i(r,o,c),i(r,s,c),i(r,u,c),h(u,t.email),i(r,p,c),i(r,$,c),i(r,g,c),i(r,b,c),h(b,t.password),i(r,v,c),i(r,y,c),k.m(y,null),i(r,x,c),E&&E.m(r,c),i(r,w,c)},p(t,e){t.email&&u.value!==e.email&&h(u,e.email),t.password&&b.value!==e.password&&h(b,e.password),L!==(L=O(0,e))&&(k.d(1),(k=L(e))&&(k.c(),k.m(y,null))),t.errors&&(j=e.Object.keys(e.errors).length>0),j?E?E.p(t,e):((E=K(e)).c(),E.m(w.parentNode,w)):E&&(E.d(1),E=null)},d(t){t&&(c(e),c(n),c(o),c(s),c(u),c(p),c($),c(g),c(b),c(v),c(y)),k.d(),t&&c(x),E&&E.d(t),t&&c(w),r(_)}}}function G(e){var n;return{c(){(n=l("div")).innerHTML="\n\t\t\t      ðŸ”“\n\t\t\t      <br>\n\t\t\t      You've been successfully logged in.\n\t\t\t    ",m(n,"class","success svelte-xtseyo")},m(t,e){i(t,n,e)},p:t,d(t){t&&c(n)}}}function I(t){var e;return{c(){e=a("Log in ðŸ”’")},m(t,n){i(t,e,n)},d(t){t&&c(e)}}}function J(t){var e;return{c(){e=a("Logging in...")},m(t,n){i(t,e,n)},d(t){t&&c(e)}}}function K(t){for(var e,n=t.Object.keys(t.errors),r=[],o=0;o<n.length;o+=1)r[o]=Q(H(t,n,o));return{c(){e=l("ul");for(var t=0;t<r.length;t+=1)r[t].c();m(e,"class","errors svelte-xtseyo")},m(t,n){i(t,e,n);for(var o=0;o<r.length;o+=1)r[o].m(e,null)},p(t,o){if(t.errors||t.Object){n=o.Object.keys(o.errors);for(var s=0;s<n.length;s+=1){const u=H(o,n,s);r[s]?r[s].p(t,u):(r[s]=Q(u),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){t&&c(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t)}}}function Q(t){var e,n,r,o,s=t.field+"",d=t.errors[t.field]+"";return{c(){e=l("li"),n=a(s),r=a(": "),o=a(d)},m(t,s){i(t,e,s),u(e,n),u(e,r),u(e,o)},p(t,e){t.errors&&s!==(s=e.field+"")&&p(n,s),t.errors&&d!==(d=e.errors[e.field]+"")&&p(o,d)},d(t){t&&c(e)}}}function R(e){var n,r;function o(t,e){return e.isSuccess?G:Y}var s=o(0,e),u=s(e);return{c(){var t;n=l("form"),u.c(),m(n,"class","svelte-xtseyo"),r=f(n,"submit",(t=e.handleSubmit,function(e){return e.preventDefault(),t.call(this,e)}))},m(t,e){i(t,n,e),u.m(n,null)},p(t,e){s===(s=o(0,e))&&u?u.p(t,e):(u.d(1),(u=s(e))&&(u.c(),u.m(n,null)))},i:t,o:t,d(t){t&&c(n),u.d(),r()}}}function U(t,e,n){let r="",o="",s=!1,u=!1,{submit:i}=e,c={};return t.$set=(t=>{"submit"in t&&n("submit",i=t.submit)}),{email:r,password:o,isLoading:s,isSuccess:u,submit:i,errors:c,handleSubmit:()=>{n("errors",c={}),0===r.length&&(c.email="Field should not be empty",n("errors",c)),0===o.length&&(c.password="Field should not be empty",n("errors",c)),0===Object.keys(c).length&&(n("isLoading",s=!0),i({email:r,password:o}).then(()=>{n("isSuccess",u=!0),n("isLoading",s=!1)}).catch(t=>{c.server=t,n("errors",c),n("isLoading",s=!1)}))},Object:Object,input0_input_handler:function(){r=this.value,n("email",r)},input1_input_handler:function(){o=this.value,n("password",o)}}}class V extends B{constructor(t){super(),q(this,t,U,R,s,["submit"])}}function W(t){var e,n,r=new V({props:{submit:t.submit}});return{c(){e=l("section"),r.$$.fragment.c(),m(e,"class","svelte-6q74ca")},m(t,o){i(t,e,o),A(r,e,null),n=!0},p(t,e){var n={};t.submit&&(n.submit=e.submit),r.$set(n)},i(t){n||(N(r.$$.fragment,t),n=!0)},o(t){!function(t,e,n,r){if(t&&t.o){if(S.has(t))return;S.add(t),C.c.push(()=>{S.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}(r.$$.fragment,t),n=!1},d(t){t&&c(e),P(r)}}}function X(t){var e;e=(()=>{v(M,z)}),b().$$.on_mount.push(e);return{submit:({email:t,password:e})=>new Promise((t,e)=>{setTimeout(()=>{v(M,{name:"Foo",lastName:"Bar",email:"foo@bar.com"}),t()},1e3)})}}return new class extends B{constructor(t){super(),q(this,t,X,W,s,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
